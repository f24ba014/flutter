> # まとめ１　
# プロジェクトの構成
## プロジェクトファイルの構成  
■プロジェクトのフォルダ類  
「.dart_tool」フォルダ・・・Dart言語が自動生成するファイル類を補完するところ。  
「.idea」フォルダ・・・IntelliJ IDEA開発ツールの設定情報。  
「build」フォルダ・・・ビルドして生成されるファイル類。  
「android」フォルダ・・・Androidアプリ生成に必要なファイル類（プラットフォームにAndroidを選択した場合）。  
「ios」フォルダ・・・iosアプリ生成に必要なファイル類（プラットフォームにiosを選択した場合）。  
「linux」フォルダ・・・Linuxアプリ生成に必要なファイル類（プラットフォームにLinuxを選択した場合）。  
「macOS」フォルダ・・・macOSアプリ生成に必要なファイル類（プラットフォームにmacOSを選択した場合）。  
「windows」フォルダ・・・windowsアプリ生成に必要なファイル類（プラットフォームにwindowsを選択した場合）。
「web」フォルダ・・・Webアプリ生成に必要なファイル類（プラットフォームにWebを選択した場合）。  
「lib」フォルダ・・・ここにDartのスクリプトが保存される。  
「test」フォルダ・・・ユニットテスト関連のファイル類。  

■プロジェクトのファイル類  
.gitignore・・・Gitで利用するファイル。  
.metadata・・・Flutterツールが利用するファイル。  
.packages・・・利用しているパッケージ情報。  
anarysis_option.yaml・・・Dartの分析に関するファイル。  
flutter_app.iml・・・モジュール定義ファイル。  
pubspec.lock・・・Pub(Dartのパッケージマネージャ)が利用するファイル。  
pubspec.yaml・・・Pubが利用するファイル。  
README.md・・・リードミーファイル。  

フォルダ関係は、プラットフォームに関連するものがある。上記のうち、「android」～「web」のフォルダは、アプリを作成するプラットフォームを追加すると作製される(追加していない場合はそのフォルダは作られない)。  
この中で、直接ファイルを編集するなどして作業を行う対象は、「lib」のみ。また、ユニットテストを行う場合は「test」フォルダも使用する。それ以外のものについては、直接ファイルを開いて編集はしない。  

## main.dartのソースコード  
プロジェクトのアプリケーション部分のプログラムが「lib」フォルダにまとめられている。またデフォルトで用意されている「main.dart」というスクリプトファイルがアプリケーションのプログラムになっている。  

## アプリ画面とウィジェットツリー  
Flutterでは、画面表示は「ウィジェット」と呼ばれるぶひんによって作製されている。  
ウィジェットには、ボタンのように目に見えて操作できるものや、他のウィジェットをまとめたり、決まったレイアウトに配置したりするような、見えない(レイアウト機能だけを提供する)ウィジェットがある。  
  
ウィジェットツリー・・・アプリの画面を、ベースとなるウィジェットの中に別のウィジェットを階層的に組み込むというウィジェットの組み込み構造のこと。  

## アプリ実行の仕組み  
package:flutter/material.dartがFlutterのマテリアルデザインによるアプリのUIウィジェットがまとめられているパッケージであるため最初にimportしておく。  
アプリのプログラムを実行する処理をごく単純にまとめると以下のようになる。
```
void main() {
    runApp(　ウィジェット　);
}
```
mainという関数が、アプリを起動する際に呼び出される処理になっているため、アプリのプログラムはmain関数に記述する。ここでは、runAppという関数を実行しており、これがアプリを起動する処理にあたる。  
## StatelessWidgetクラスについて  
StatelessWidgetクラスはステート(状態を表す値)を持たないウィジェットのベースとなるクラスのことで、このクラスは以下のような形で定義される。
```
class クラス名 extends StatelessWidget {

    @override
    Widget build(BuildContext context) {
        return MaterialApp(---略---)
    }
}
```
StatelessWidgetクラスには、buildというメソッドが用意されており、ウィジェットが生成される際に呼び出される。ここでは、returnで「MaterialApp」というクラスのインスタンスを返しているが、StatelessWidgetクラスは、ステートのないウィジェットというだけで表示されるデザインなどは特に扱っていないため、returnすることでアプリが表示されるようになる。  

すべてのウィジェットは、「Widget」というクラスのサブクラスとして用意されている。このWidgetのサブクラスのインスタンスを生成し、組み込んでreturnすると、それがこのStatelessWidgetクラス(MyAppクラス)のウィジェットとして画面に組み込まれて表示される。また、ウィジェットのクラスは、StatelessWidgetと、ステートを持つStatefulWidgetのいずれかを継承して作成する。  

buildメソッドでは、BuildContextというクラスのインスタンスが引数として渡される。BuildContextは、組み込まれたウィジェットに関する機能がまとめられたもので、例えばウィジェットの組み込み状態(ウィジェットが組み込まれている親や子の情報など)に関する機能がいろいろと揃っている。

## MaterialAppクラスについて
MaterialAppクラスは、引数にさまざまな設定情報を指定することができる。
```
return MaterialApp(
    title: 'Flutter Demo',
    home: Text(
    'Hello, Flutter World!!',
    style: TextStyle(fontSize:32.0),
    ),
  );
```
ここでは、titleとhomeという2つの名前付き引数が用意されている。titleは、アプリケーションのタイトルを示しており、homeがアプリケーションに組み込まれるウィジェットを示している。ここに設定されたウィジェットがMaterialAppの表示となる。
> Textウィジェット  

homeに指定されている「Text」というクラスのインスタンスがテキストの表示を行うためのウィジェットで、第1引数に表示するテキストを指定する。また、その後に指定されているstyleという値はテキストスタイルを示す値になっている。

> アプリの構造を確認する

以下のように、Flutterのアプリでは、さまざまなクラスが階層的に組み合わせられて表示を構成している。  
- アプリケーションは。main関数として定義する。このmain関数では、runAppでウィジェットのインスタンスを実行する。 
- runApp関数では、State;essWidget継承クラスのインスタンスを引数に指定する。これがアプリ本体のUIとなる。
- State;essWidget継承クラスにはbuildメソッドを用意する。ここでマテリアルデザインのアプリクラスであるMaterialAppインスタンスをreturnする。
- MaterialAppの引数homeに、実際にアプリ内に表示するウィジェットを設定する。

このようにFlutterアプリは、main関数、State;essWidget、MaterialAppといったものが階層的に組み込まれた形になっている。
## ScaffoldとAppBar
Scaffoldは、アプリ作成の土台となる部分を担当する部品で、マテリアルデザインの基本的なデザインとレイアウトが組み込まれている。そのため、必要なウィジェットを追加することで、ごく一般的なデザインのアプリが作成される。

このScaffoldは以下のようにしてインスタンスを作成する。
```
Scaffold(  appBar:〇〇, body:〇〇)
```
Scoffoldでは、ウィジェットを表示させる要素を格納するためのものが名前付き引数として用意され、ここではappBarとbodyの2つが用いられている。appBarとbodyは基本的な要素であり、他にも表示する要素として名前付き引数がいくつか用意されている。
## appBarとAppBarクラス
appBarは、アプリ上部に表示されるバー(アプリケーションバー)を設定する値のことで、ここでは以下のような形で値が設定されている。
```
appBar: AppBar(
    title: Text('Hello, Flutter!'),
),
```
AppBarは「AppBar」というクラスのインスタンスで、アプリケーションバーのウィジェットクラスになっており、ここに値を設定するとアプリケーションバーのタイトルとして表示される。
## bodyについて
アプリケーションバーの下の空白エリア全体の表示を担当するのが、「body」という値のことで、ここではTextインスタンスを作成して組み込んでいる。
```
body: Text(
    'Hello Flutter World!!',
    style: TextStyle(fontSize:32.0),
),
```
ここではTextを指定しているが、実際の開発では、多数のウィジェットを配置するためのコンテナとしての働きを持つウィジェットを組み込んで利用する。